<h2>Description</h2>

<p>In this stage, we will go over some special cases that you may encounter.</p>

<p>Let's take a look at the first stage of the algorithm where you change the first row so that the first element of the row is equal to <span class="math-tex">\(1\)</span>. But what if the first element of the row is <span class="math-tex">\(0\)</span>? You can multiply all you want, but it will never make the first element equal to <span class="math-tex">\(1\)</span>.</p>

<p><span class="math-tex">\(\begin{cases} \begin{aligned} 0 &amp; + a_{12}x_2+... +a_{1n}x_n = b_1 \\ a_{21}x_1 &amp; + a_{22}x_2 +... + a_{2n}x_n = b_2 \\ &amp;... \\ a_{n1}x_1 &amp; + a_{n2}x_2 +... + a_{nn}x_n = b_n \\ \end{aligned} \end{cases}\)</span></p>

<p>So, you need to modify the algorithm. We will stick to the same rules in the examples to follow. The question marks next to the coefficients could mean any value. The coefficients highlighted in red are the ones we are talking about.</p>

<p>1. Before scaling the current row you should check if the corresponding element of the row isn't <span class="math-tex">\(0\)</span>.<br>
<span class="math-tex">\(\begin{cases} 1x_1 + \&gt;\&gt;?x_2 +?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 1x_2 +?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +\red?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ \end{cases}\)</span></p>

<p>2. If the coefficient is zero, the program should look for a non-zero coefficient below this coefficient. If it is found in some other row, you should swap that row with the current one. In the example below, the third and fifth rows have been swapped.<br>
<span class="math-tex">\(\begin{cases} 1x_1 + \&gt;\&gt;?x_2 +\&gt;\&gt;?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 1x_2 +\&gt;\&gt;?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +0x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +\&gt;\&gt;\red?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +\&gt;\&gt;\red?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ \end{cases}\)</span><br>
<br>
<span class="math-tex">\(\begin{cases} 1x_1 + \&gt;\&gt;?x_2 +\&gt;\&gt;?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 1x_2 +\&gt;\&gt;?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +0x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2\ +\ ?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 + \green 5x_3 + ?x_4 + ?x_5 = \&gt; ? \\ \end{cases}\)</span><br>
<br>
<span class="math-tex">\(\begin{cases} 1x_1 + \&gt;\&gt;?x_2 +\&gt;\&gt;?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 1x_2 +\&gt;\&gt;?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 + \green 5x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2\ +\ ?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +0x_3 + ?x_4 + ?x_5 = \&gt; ? \\ \end{cases}\)</span></p>

<p>3. If the coefficients below the element are zero, you should look for a non-zero coefficient to the right of the current one. If it is found in another column, you should swap that column with the current one. Swapping here is crucial because in the end, you need to swap them back to output the solutions in the correct order. It could take a lot of swapping.<strong> </strong>In the example below, the third and fourth columns have been swapped.<br>
<span class="math-tex">\(\begin{cases} 1x_1\ + \ ?x_2\ +\ ?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 1x_2\ + \ ?x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +0x_3 + \red?x_4 + \red?x_5 = \&gt; ? \\ 0x_1 + 0x_2 + 0x_3 + ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2+ 0x_3 + ?x_4 + ?x_5 = \&gt; ? \\ \end{cases}\)</span><br>
<br>
<span class="math-tex">\(\begin{cases} 1x_1\ + \ ?x_2\ +\ ?x_3\ +\ ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 1x_2\ + \ ?x_3\ +\ ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +0x_3 + \green7x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 + 0x_3\ +\ ?x_4 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2+ 0x_3\ +\ ?x_4 + ?x_5 = \&gt; ? \\ \end{cases}\)</span><br>
<br>
<span class="math-tex">\(\begin{cases} 1x_1\ + \ ?x_2\ +\ ?x_4\ +\ ?x_3 + ?x_5 = \&gt; ? \\ 0x_1 + 1x_2\ + \ ?x_4\ +\ ?x_3 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +\green7x_4 + 0x_3 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2\ +\ ?x_4+0x_3 + ?x_5 = \&gt; ? \\ 0x_1 + 0x_2\ +\ ?x_4+0x_3 + ?x_5 = \&gt; ? \\ \end{cases}\)</span></p>

<p>4. If the coefficients below and to the right of the element are zeroes, you should find the non-zero element in the bottom-right part of the linear system. If it is found in another row and column, you should swap both the row and the column so that this non-zero element could replace the current element. Please, remember what columns have been swapped. In the example below, the third and fourth rows, as well as the third and fifth columns have been swapped.<br>
<span class="math-tex">\(\begin{cases} 1x_1\ + \ ?x_2\ +\ ?x_3\ +\ ?x_4\ +\ ?x_5 = \&gt; ? \\ 0x_1 + 1x_2\ + \ ?x_3\ +\ ?x_4\ +\ ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +0x_3 + 0x_4 + 0x_5 = \&gt; ? \\ 0x_1 + 0x_2 + 0x_3\ +\ \red?x_4\ +\ \red?x_5 = \&gt; ? \\ 0x_1 + 0x_2+ 0x_3\ +\ \red?x_4\ +\ \red?x_5 = \&gt; ? \\ \end{cases}\)</span><br>
<br>
<span class="math-tex">\(\begin{cases} 1x_1\ + \ ?x_2\ +\ ?x_3\ +\ ?x_4\ +\ ?x_5 = \&gt; ? \\ 0x_1 + 1x_2\ + \ ?x_3\ +\ ?x_4\ +\ ?x_5 = \&gt; ? \\ 0x_1 + 0x_2 +0x_3 + 0x_4 + 0x_5 = \&gt; ? \\ 0x_1 + 0x_2 + 0x_3\ +\ ?x_4 + \green3x_5 = \&gt; ? \\ 0x_1 + 0x_2+ 0x_3\ +\ ?x_4\ +\ ?x_5 = \&gt; ? \\ \end{cases}\)</span><br>
<br>
<span class="math-tex">\(\begin{cases} 1x_1\ + \ ?x_2\ +\ ?x_5\ +\ ?x_4\ +\ ?x_3 = \&gt; ? \\ 0x_1 + 1x_2\ + \ ?x_5\ +\ ?x_4\ +\ ?x_3 = \&gt; ? \\ 0x_1 + 0x_2 +\green3x_5\ +\ ?x_4 + 0x_3 = \&gt; ? \\ 0x_1 + 0x_2 + 0x_5 + 0x_4 + 0x_3 = \&gt; ? \\ 0x_1 + 0x_2\ +\ ?x_5\ +\ ?x_4 + 0x_3 = \&gt; ? \\ \end{cases}\)</span><br>
<br>
5. If you don't have a non-zero element in the bottom-right part of the linear system, complete the first part of the algorithm.</p>

<p>Once the manipulations in the first half of the algorithm are done, check whether the system has a solution. The system can't be solved when it has an all-zero row and the row constant is something else than a zero. In the example below, the linear system contains a contradiction and therefore has no solution. If this is your case, this is where you stop.</p>

<p><span class="math-tex">\(\begin{cases} \begin{aligned} &amp;... \\ 0 &amp; + 0 +... + 0 = b_i,\&gt;\&gt; b_i \neq 0 \\ &amp;... \\ \end{aligned} \end{cases}\)</span></p>

<p>The second special case. The number of variables doesn't need to be equal to the number of equations.</p>

<p>Suppose, a number of significant equations is equal to the number of non-zero rows in the linear system. A number of significant variables is equal to the number of all columns in the linear system. After that, we can determine whether the linear system has an infinite amount of solutions or just a single one.<br>
<br>
The two following options are possible here:</p>

<p>1. The number of significant equations is equal to the number of significant variables. There is only one solution; apply the algorithm from the previous stage. Possible examples are shown below:</p>

<p><span class="math-tex">\(\left( \begin{array}{ccc|c} 1 &amp; 2 &amp; 3 &amp; 5 \\ 0 &amp; 1 &amp; 4 &amp; 6 \\ 0 &amp; 0 &amp; 1 &amp; 2 \\ \end{array} \right) , \&gt;\&gt;\&gt; \left( \begin{array}{ccc|c} 1 &amp; 3 &amp; 5 &amp; 7 \\ 0 &amp; 1 &amp; 2 &amp; 3 \\ 0 &amp; 0 &amp; 1 &amp; 1 \\ 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 0 \\ \end{array} \right)\)</span></p>

<p>2. The number of significant equations is less than the number of significant variables. The system has an infinite number of solutions. Possible examples are shown below:</p>

<p><span class="math-tex">\(\left( \begin{array}{ccc|c} 1 &amp; 3 &amp; 4 &amp; 5 \\ 0 &amp; 1 &amp; 5 &amp; 5 \\ \end{array} \right) , \&gt;\&gt;\&gt; \left( \begin{array}{ccc|c} 1 &amp; 7 &amp; 0 &amp; 1 \\ 0 &amp; 1 &amp; 0 &amp; 5 \\ \end{array} \right)\)</span></p>

<p><span class="math-tex">\(\left( \begin{array}{ccc|c} 1 &amp; 3 &amp; 5 &amp; 7 \\ 0 &amp; 1 &amp; 2 &amp; 3 \\ 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 0 \\ \end{array} \right) , \&gt;\&gt;\&gt; \left( \begin{array}{ccc|c} 1 &amp; 4 &amp; 0 &amp; 6 \\ 0 &amp; 1 &amp; 0 &amp; 2 \\ 0 &amp; 0 &amp; 0 &amp; 0 \\ \end{array} \right)\)</span></p>

<p>One important thing: the number of significant equations cannot be greater than the number of significant variables. Otherwise, it would produce a contradiction that we've handled previously.</p>

<p>In this stage, your program should handle all these nuances.</p>

<p>Write only the <code class="java">No solutions</code> or the <code class="java">Infinitely many solutions</code> outputs to the file if that's the case. If the system has a single solution, write only the <span class="math-tex">\(x_1, x_2, ... , x_n\)</span> output and remember that each number should be on a separate line.</p>

<p>Don't forget that input can contain floating-point numbers.</p>

<h2>Objectives</h2>

<p>Write a program that solves a system of linear equations, outputs the result, and then writes it to a file.</p>

<p><span class="math-tex">\(\begin{cases} \begin{aligned} a_{11}x_1 &amp; + a_{12}x_2+... +a_{1n}x_n = b_1 \\ a_{21}x_1 &amp; + a_{22}x_2 +... + a_{2n}x_n = b_2 \\ &amp;... \\ a_{n1}x_1 &amp; + a_{n2}x_2 +... + a_{nn}x_n = b_n \\ \end{aligned} \end{cases}\)</span></p>

<p>In this stage, your program should:</p>

<ol>
	<li>Read the file paths using command-line arguments.</li>
	<li>Open and parse the file passed as '--infile', which contains the number of equations and coefficients. </li>
	<li>Analyze the coefficients.</li>
	<li>Check whether the system has a solution.</li>
	<li>If a solution exists, solve the system of linear equations, print all the steps in the console (including the solution).</li>
	<li>Write the result to another file, which is passed as '--outfile'.</li>
</ol>

<h2>Example</h2>

<p>The greater-than symbol followed by space (<code class="java">&gt; </code>) represents the user input. Note that it's not part of the input.</p>

<p>Suppose you have a file named <code class="java">in.txt</code>. Its contents are shown below. Note that the first line contains the number of variables and the number of equations. We have three variables, <span class="math-tex">\(x_1\)</span>, <span class="math-tex">\(x_2\)</span>, <span class="math-tex">\(x_3\)</span> (remember, that last column is devoted to <span class="math-tex">\(b_i\)</span> ), and four equations (number of equations is the number of rows).</p>

<pre><code class="language-no-highlight">3 4
0 1 2 9
0 1 3 1
1 0 6 0
2 0 2 0
</code></pre>

<p> The input corresponds to the following equation:</p>

<p><span class="math-tex">\(\begin{cases} 0*x_1 + 1*x_2 + 2*x_3 = 9 \\ 0*x_1 +1*x_2 + 3*x_3 = 1 \\ 1* x_1 + 0*x_2 +6 *x_3 = 0 \\ 2* x_1 + 0*x_2 +2 *x_3 = 0 \\ \end{cases}\)</span></p>

<p>Below is an example of how your program may handle it.</p>

<pre><code class="language-no-highlight">&gt; python3 linearsolver.py --infile in.txt --outfile out.txt
Start solving the equation.
Rows manipulation:
R1 &lt;-&gt; R3
-2 * R1 + R4 -&gt; R4
-1 * R2 + R3 -&gt; R3
-1 * R3 -&gt; R3
No solutions
Saved to out.txt</code></pre>

<p>In this case, the <code class="java">out.txt</code> file would look like this:</p>

<pre><code class="language-no-highlight">No solutions</code></pre>